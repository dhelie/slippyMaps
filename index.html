<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Slippy Maps and Spatial Data</title>

		<link rel="stylesheet" href="reveal.js-3.8.0/css/reset.css">
		<link rel="stylesheet" href="reveal.js-3.8.0/css/reveal.css">
		<link rel="stylesheet" href="reveal.js-3.8.0/css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="reveal.js-3.8.0/lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js-3.8.0/css/print/pdf.css' : 'reveal.js-3.8.0/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		
		<!--[if lt IE 9]>
		<script src="reveal.js-3.8.0/lib/js/html5shiv.js"></script>
		<![endif]-->
		
		<style>
			table pre {margin: 0 auto !important;line-height: 1.6em !important; width:auto !important;}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>Slippy Maps and Spatial Data</h2>
					<h4>DIGITAL HUMANITIES INSTITUTE – BEIRUT 2019</h4>
					<h4>Elie Abu Haydar</h4>
				</section>
				
				<section>
					<section>
						<h4>Slippy Maps</h4>
						<p><q cite="https://wiki.openstreetmap.org/wiki/Slippy_Map">A term referring to modern web maps which let you zoom and pan around (the map slips around when you drag the mouse).</q> — OpenStreetMap</p>
						<aside class="notes">
						</aside>
					</section>
					<section>
						<h4>Slippy Maps (Cont'd)</h4>
						<p>In technical words, it is a tiled map that is displayed in a browser by seamlessly joining many image files served by a webserver. This method has become a standard to display and navigate maps. Google maps were among the first to adopt it.</p>
					</section>
					<section>
						<h4>Slippy Maps (Cont'd), in more technical terms</h4>
						<p><q cite="https://wiki.openstreetmap.org/wiki/Slippy_Map">The slippy map is an Ajax component. JavaScript runs in the browser, which dynamically requests maps from a server in the background (without reloading the whole HTML page) to give a smooth slippy zoomy map browsing experience. The implementation of this is provided by a javascript library, either OpenLayers or Leaflet. The map image is built up of many little square images called "tiles". These are rendered and served from a "tile server".</q> — OpenStreetMap</p>
					</section>
					<section>
						<h4>Coordinate reference system (CRS)</h4>
						<p>A spatial reference system (SRS) or coordinate reference system (CRS) is a coordinate-based local, regional or global system used to locate geographical entities.</p>
						<p>A Spatial Reference System Identifier (SRID) is a unique value used to unambiguously identify projected, unprojected, and local spatial coordinate system definitions.</p>
					</section>
					<section>
						<h4>Coordinate reference system (CRS) (Cont'd)</h4>
						<p style="font-size: 0.9em;">Two of the most used SRIDs are EPSG:4326 and EPSG:3857</p>
						<ul>
							<li><a href="https://epsg.io/4326">EPSG:4326</a> (WGS84), is a geographic unprojected coordinate system. It uses decimal degrees latitude and longitudes.</li>
							<li><a href="https://epsg.io/3857">EPSG:3857</a> (WGS 84 / Pseudo, Mercator or Web Mercator), is a projected coordinate system used by by Google Maps, Leaflet, OpenStreetMap, Bing, ArcGIS, ESRI.</li>
						</ul>
						<aside class="notes">
							<p><q cite="https://webdesign.tutsplus.com/tutorials/the-google-maps-api-and-custom-overlays--webdesign-13868">A projection system, in the geographical sense, is how a flat map is created from a round object, i.e. the globe. There are all sorts of (frankly baffling) formulae and algorithms used to achieve this. All you need to know is that different projection systems result in different flat maps of the world.</q> — Emily Bennett</p>
							<p>Often, data is stored in EPSG:4326 and displayed in EPSG:3857 Also, a mapping API may take lat, longs (i.e. EPSG: 4326 ) as an input but when those coordinates are displayed on a map, they will be shown a map based on a Web Mercator (i.e. EPSG:3857) projection.</p>
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h4>Spatial Data</h4>
						<q cite="https://www.ands.org.au/working-with-data/metadata/geospatial-data-and-metadata">Spatial data in general refers to the location, shape and size of an object in space. Geospatial data is a subset of spatial data.</q> — ands
						
						<p>Spatial data is also known as geospatial data, spatial information or geographic information.</p>
					</section>
					<section>
						<h4>Geospatial Data</h4>
						<p>Geospatial data is spatial data that describes location, size and shapes of objects on earth.</p>
						<p>This type of data can be represented by numerical values that represent points, lines, polygons and other geometric data primitives, which can be mapped by location.</p>
					</section>
					
					<section>
						<h4>Location or Geolocation</h4>
						<p>Refers to the latitude and longitude coordinates of a particular location.</p>
						<blockquote cite="https://www.latlong.net/" style="font-size: 0.7em;">
							<p>The latitude is specified by degrees, starting from 0° and ending up with 90° to both sides of the equator, making latitude Northern and Southern.</p>
							<p>The longitude is defined as an angle pointing west or east from the Greenwich Meridian, which is taken as the Prime Meridian.</p>
						</blockquote> — latlong.net
						
						<aside class="notes">
							Usually lat &amp; long coordinates come in 2 formats. DD (decimal degrees) and DMS (degrees, minutes, seconds)
						</aside>
					</section>
					
					<section>
						<h4>Common formats</h4>
						<ul>
							<li>DD (decimal degrees) 
							  <ul><li>33.879288, 35.509645</li></ul></li>
							<li style="margin-top:20px;">DMS (degrees, minutes, seconds)
								<ul><li>33° 52' 45.4368'' N, 35° 30' 34.722'' E</li></ul>
						</ul>
						
					</section>
					
					<section>
						<h4>Angles of latitude and longitude</h4>
						<blockquote cite="http://gsp.humboldt.edu/OLM/Lessons/GIS/01%20SphericalCoordinates/Latitude_and_Longitude.html" >
							<img height="400" data-src="http://gsp.humboldt.edu/OLM/Lessons/GIS/01%20SphericalCoordinates/LatLonOnEarth.png" />
						</blockquote> — Humboldt State Geospatial Online
					</section>
					
					<section>
						<h4 style="font-size: 0.9em;">Online resources to get latitude and longitude</h4>
						<ul>
							<li><a href="https://www.latlong.net/" target="_blank">latlong.net</a></li>
							<li><a href="https://www.mapcoordinates.net/en" target="_blank">mapcoordinates.net</a></li>
							<li><a href="https://epsg.io/map" target="_blank">epsg.io/map</a></li>
							<li><a href="http://geojson.io/" target="_blank">geojson.io</a></li>
						</ul>
					</section>
					
					<section>
						<h4>Data types</h4>
						<p>There are 2 primary types of data</p>
						<ul>
							<li>Vector (points, lines and polygons)</li>
							<li>Raster (pixels or grid cells)</li>
						</ul>
					</section>	
					
					<section>
						<h4>Public domain map datasets</h4>
						<ul>
							<li><a href="https://www.naturalearthdata.com/" target="_blank">Natural Earth Data</a></li>
							<li><a href="http://opendata.arcgis.com/" target="_blank">Esri Open Data</a></li>
							<li><a href="https://www.openstreetmap.org" target="_blank">OpenStreetMap</a></li>
							<li class="fragment">and much more ...</li>
						</ul>
					</section>
					
				</section>
				
				<section>
					<section>
						<h4>Slippy maps & Vector data samples</h4>
						<p>This section describes api dependent data</p>
						<p>Samples are done using Leaflet and Google Maps</p>
						<p>Leaflet javascript library is free whereas using Goople Maps javascript api requires a key which is linked to a billing account.</p>  
						<p>For more information on Google Maps JavaScript API Usage and Billing click <a target="_blank" href="https://developers.google.com/maps/documentation/javascript/usage-and-billing">here</a></p>
					</section>
					
					<section>
						<h4>Api Reference</h4>
						<ul>
							<li><a href="https://leafletjs.com/reference-1.4.0.html" target="_blank">Leaflet</a></li>
							<li><a href="https://developers.google.com/maps/documentation/javascript/tutorial" target="_blank">Google Maps</a></li>
						</ul>
					</section>
					<section>
						<h4>Slippy maps & Vector data samples</h4>
						<p>Hello Beirut</p>
						<ul>
							<li><a href="01-firstMap/l_myfirstMap.html" target="_blank">Leaflet</a></li>
							<li><a href="01-firstMap/g_myfirstMap.html" target="_blank">Google Maps</a></li>
						</ul>
					</section>
					
					<section>
						<h4>Slippy maps & Vector data samples (Cont'd)</h4>
						<p>Simple marker or point</p>
						<ul>
							<li><a href="02-marker/l_mapWithMarker.html" target="_blank">Leaflet</a></li>
							<li><a href="02-marker/g_mapWithMarker.html" target="_blank">Google Maps</a></li>
						</ul>
					</section>
					
					<section>
						<h4>Slippy maps & Vector data samples (Cont'd)</h4>
						<p>Polyline</p>
						<ul>
							<li><a href="03-polyline/l_mapWithPolyline.html" target="_blank">Leaflet</a></li>
							<li><a href="03-polyline/g_mapWithPolyline.html" target="_blank">Google Maps</a></li>
						</ul>
					</section>
					
					<section>
						<h4>Slippy maps & Vector data samples (Cont'd)</h4>
						<p>Polygons</p>
						<ul>
							<li><a href="04-polygon/l_mapSimplePolygon.html" target="_blank">Leaflet (Simple)</a></li>
							<li><a href="04-polygon/l_mapHoledPolygon.html" target="_blank">Leaflet (Holed)</a></li>
							<li><a href="04-polygon/g_mapSimplePolygon.html" target="_blank">Google Maps (Simple)</a></li>
							<li><a href="04-polygon/g_mapHoledPolygon.html" target="_blank">Google Maps (Holed)</a></li>
						</ul>
					</section>
				</section>
				
				<section>
					<section>
						<h4 style="text-transform:none;">GeoJSON</h4>
						
						<p><q cite="https://en.wikipedia.org/wiki/GeoJSON">It is an open standard format designed for representing simple geographical features, along with their non-spatial attributes. It is based on JSON, the JavaScript Object Notation</q> — Wikipedia</p>
					</section>
					
					<section>
						<h4>JSON</h4>
						
						<blockquote cite="https://www.json.org/" style="font-size:0.7em;margin-bottom:0;">
						<p>JSON (JavaScript Object Notation) is a lightweight data-interchange format. It is easy for humans to read and write. It is easy for machines to parse and generate.</p>
						
						<p>JSON is built on two structures:</p>
						<ul>
							<li>A collection of name/value pairs.</li>
							<li>An ordered list of values.</li>
						</ul>
						</blockquote><span style="font-size: 0.7em;"> — json.org</span>
						
						<p style="font-size: 0.7em;">GeoJSON inherits the same rules and requires objects to contain the keys; <br/>type, features, geometry, coordinates, and properties.</p>
						
					</section>
					
					<section>
						<h4>GeoJSON format</h4>
						<pre><code class="json hljs" data-trim style="font-size: 18px;">
							{
							  "type": "FeatureCollection",
							  "features": [
								{
								  "type": "Feature",
								  "geometry": {
									"type": "Point", // or LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon
									"coordinates": [102.0, 0.5] // or more points
								  },
								  "properties": {
									"prop0": "value0"
								  }
								}
								//, or more features
							  ]
							}
						</code></pre>
					</section>
					
					<section>
						<h4>Features (Geometry primitives)</h4>
							<table style="font-size:0.5em;">
								<thead>
									<tr>
										<th>Feature</th>
										<th></th>
										<th>Example</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td style="vertical-align:middle;">Point</td>
										<td style="vertical-align:middle;">
											<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/SFA_Point.svg/51px-SFA_Point.svg.png"/>
										</td>
										<td>
											<pre><code class="json hljs" data-trim style="font-size: 18px;">
												{
													 "type": "Point", 
													 "coordinates": [30, 10]
												}
											</code></pre>
										</td>
									</tr>
									
									<tr>
										<td style="vertical-align:middle;">LineString</td>
										<td style="vertical-align:middle;">
											<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/SFA_LineString.svg/51px-SFA_LineString.svg.png"/>
										</td>
										<td>
											<pre><code class="json hljs" data-trim style="font-size: 18px;">
												{
													"type": "LineString", 
													"coordinates": [
														[30, 10], [10, 30], [40, 40]
													]
												}
											</code></pre>
										</td>
									</tr>
									
									<tr>
										<td rowspan="2" style="vertical-align:middle;">Polygon</td>
										<td style="vertical-align:middle;">
											<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/SFA_Polygon.svg/51px-SFA_Polygon.svg.png"/>
										</td>
										<td>
											<pre><code class="json hljs" data-trim style="font-size: 18px;">
												{
													"type": "Polygon", 
													"coordinates": [
														[[30, 10], [40, 40], [20, 40], [10, 20], [30, 10]]
													]
												}
											</code></pre>
										</td>
									</tr>
									
									<tr>
										
										<td style="vertical-align:middle;">
											<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/SFA_Polygon_with_hole.svg/51px-SFA_Polygon_with_hole.svg.png"/>
										</td>
										<td>
											<pre><code class="json hljs" data-trim style="font-size: 18px;">
												{
													"type": "Polygon", 
													"coordinates": [
														[[35, 10], [45, 45], [15, 40], [10, 20], [35, 10]], 
														[[20, 30], [35, 35], [30, 20], [20, 30]]
													]
												}
											</code></pre>
										</td>
									</tr>
									
								</tbody>
							</table>
					</section>
					
					<section>
						<h4>Online Renderer & Editor</h4>
						
						<p><a href="http://geojson.io/" target="_blank">geojson.io</a></p>
					</section>
					
					<section>
						<h4>Slippy maps & GeoJSON Vector data samples</h4>
						<p>Point, LineString, and Polygons (API Independent)</p>
						<ul>
							<li><a href="05-geojson/leaflet.html" target="_blank">Leaflet</a></li>
							<li><a href="05-geojson/gmaps.html" target="_blank">Google Maps</a></li>
							<li class="fragment"><a href="https://github.com/dhelie/slippyMaps/blob/master/05-geojson/lebanon.geojson" target="_blank">GitHub</a></li>
							<li class="fragment"><small style="vertical-align:middle;">... and &nbsp;</small><a href="05-geojson/d3.html" target="_blank">D3</a></li>
						</ul>
					</section>
				</section>
				
				<section>
					<section>
						<h4 style="text-transform:none;">TopoJSON</h4>
						<p><q cite="https://github.com/topojson/topojson/wiki">TopoJSON is an extension of GeoJSON that encodes topology. Rather than representing geometries discretely, geometries in TopoJSON files are stitched together from shared line segments called arcs.<br/> As a result, TopoJSON is substantially more compact than GeoJSON.</q> — github.com/topojson</p>
					</section>
					
					<section>
						<h4>Online GeoJSON to TopoJSON</h4>
						<p><a href="https://mapshaper.org/" target="_blank">mapshaper.org</a></p>
						<p><a href="http://geojson.io/" target="_blank">geojson.io</a></p>
					</section>
					
					<section>
						<h4>Slippy maps & TopoJSON Vector data samples</h4>
						<p>Point, LineString, and Polygons (API Independent)</p>
						<ul>
							<li><a href="06-topojson/leaflet.html" target="_blank">Leaflet</a></li>
							<li><a href="06-topojson/gmaps.html" target="_blank">Google Maps</a></li>
							<li class="fragment"><a href="https://github.com/dhelie/slippyMaps/blob/master/06-topojson/lebanon.topojson" target="_blank">GitHub</a></li>
						</ul>
					</section>
				</section>
				
				<section>
					<section>
						<h4 style="font-size: 0.9em;">Creating raster data from historic scanned maps</h4>
						<object style="background:#faebd7;width:50%;" data="customTilesFlow.svg" type="image/svg+xml">
						  <img style="width:50%;border:none;" src="customTilesFlow.png" />
						</object>
					</section>
					
					<section>
						<h4>Georeferencing Imagery</h4>
						<p><q cite="https://docs.mapbox.com/help/tutorials/georeferencing-imagery/">It is the process of assigning geographic coordinates to a raster image to define its location in the world based on a map coordinate system.</q> — mapbox</p>
						
						<h5>Tools</h5>
						<ul>
							<li><a href="https://qgis.org/en/site/forusers/download.html" target="_blank">QGIS</a></li>
							<li>Georeferencer GDAL plugin,<small style="vertical-align:middle;">&nbsp; comes preinstalled in QGIS, but needs activation.</small></li>
						</ul>
					</section>
					
					<section>
						<h4>Generating XYZ or slippy map tiles</h4>
						
						<h5>Tools</h5>
						<ul>
							<li>QGIS Processing Algorithm "Generate XYZ tiles" <small>&nbsp; (Milestone 3.8)</small></li>
							<li><a href="qtiles3-1.6.0.zip">QTiles 3</a><br/><small>&nbsp; Unfortunately this plugin was taken down recently due to licensing issues</small></li>
						</ul>
					</section>
					
					<section>
						<h4 style="font-size: 0.9em;">Steps to install the "Generate XYZ tiles" plugin</h4>
						
						<ul>
							<li>Extract TilesXYZ.py from <a href="TilesXYZ.zip">TilesXYZ.zip</a> and put it in <pre><code class="dos hljs">\apps\qgis\python\plugins\processing\algs\qgis</code></pre></li>
							<li>Register TilesXYZ in QgisAlgorithmProvider.py</li>
							<li>Restart QGIS</li>
						</ul>
					</section>
					
					<section>
						<h4>Generating TMS map tiles</h4>
						
						<h5>Tools</h5>
						<ul>
							<li>GDAL2Tiles</li>
							<li><a href="qtiles3-1.6.0.zip">QTiles 3</a></li>
						</ul>
					</section>
					
					<section>
						<h4>Difference between XYZ & TMZ tiles</h4>
						
						<blockquote cite="https://geomappando.com/2018/03/23/visualizzare-raster-suddivisi-in-tiles-tms/" >
							<img data-src="https://i2.wp.com/geomappando.com/wp-content/uploads/2018/03/XYZ_TMS_formati.png?w=700&ssl=1" />
						</blockquote> — GeoMappando
					</section>
					
					<section>
						<h4>Slippy maps & custom tiles data samples</h4>
						<ul>
							<li><a href="08-customMapTiles/l_mapXYZTiles.html" target="_blank">Leaflet (XYZ)</a></li>
							<li><a href="08-customMapTiles/l_mapTMSTiles.html" target="_blank">Leaflet (TMS)</a></li>
							<li><a href="08-customMapTiles/l_mapBoxTiles.html" target="_blank">Leaflet (mapbox)</a></li>
							
							<li><a href="08-customMapTiles/g_mapXYZTiles.html" target="_blank">Google Maps (XYZ)</a></li>
							<li><a href="08-customMapTiles/g_mapTMSTiles.html" target="_blank">Google Maps (TMS)</a></li>
							<li><a href="08-customMapTiles/g_mapBoxTiles.html" target="_blank">Google Maps (mapbox)</a></li>
							
						</ul>
					</section>
					
				</section>
				
				<section>
					<section>
						<h4>Basic Git commands</h4>
						<p>Clone repository</p>
						
						<pre><code class="dos hljs">git clone [remote-repo-name]</code></pre>
						
						<p>For this repo</p>
						
						<pre><code class="dos hljs">git clone https://github.com/dhelie/slippyMaps.git</code></pre>
						
						<p>...and don't forget your friend</p>
						<pre><code class="dos hljs">git status</code></pre>
						
					</section>
					
					<section>
						<h4>Basic Git commands (Cont'd)</h4>
						<p>Push code to remote repository</p>
						
						<pre><code data-trim class="dos hljs">
							git init
							git add .
							git commit -m "first commit"
							git remote add origin https://github.com/dhelie/slippyMaps.git
							git push -u origin master
							</code>
						</pre>
					</section>
					
					<section>
						<h4>Basic Git commands (Cont'd)</h4>
						<p>Push changes remote repository</p>
						
						<pre><code data-trim class="dos hljs">
							git commit -am "message"
							git push -u origin master
							</code>
						</pre>
						
						<p>For newly added files</p>
						
						<pre><code data-trim class="dos hljs">
							git add [filename1]
							...
							git commit -am "message"
							git push -u origin master
							</code>
						</pre>
					</section>
					
					<section>
						<h4>Basic Git commands (Cont'd)</h4>
						<p>Pull updates from repository</p>
						
						<pre><code data-trim class="dos hljs">
							git pull origin master
							</code>
						</pre>
					</section>
				</section>

			</div>
		</div>

		<script src="reveal.js-3.8.0/js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				dependencies: [
					{ src: 'reveal.js-3.8.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js-3.8.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js-3.8.0/plugin/highlight/highlight.js', async: true },
					{ src: 'reveal.js-3.8.0/plugin/search/search.js', async: true },
					{ src: 'reveal.js-3.8.0/plugin/zoom-js/zoom.js', async: true },
					{ src: 'reveal.js-3.8.0/plugin/notes/notes.js', async: true }
				]
			});
			
		</script>
	</body>
</html>
